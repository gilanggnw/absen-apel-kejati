const fs = require('fs');
const path = require('path');

// Expected NIPs from the seeding data
const expectedNips = [
  '196306081985021001', '196308111989031002', '196508161989031002', '196510041989031001',
  '196606241989031002', '196606271991032001', '196710251989031001', '196711081990032002',
  '196808141994031003', '196905061996032003', '196908041994032002', '196910011998032008',
  '197005061996032005', '197011141996032001', '197107032000031003', '197111221997032005',
  '197308241993031001', '197508062005011010', '197702152000032001', '197705282000032001',
  '197711082005011002', '198002012005011007', '198107202005012008', '198307202006042004',
  '198403292008121001', '198405122009122002', '198408042008122004', '198501172008122001',
  '198501202009122002', '198505032008121001', '198507042008122001', '198509142005012002',
  '198511252010121001', '198603152009122001', '198604242008122001', '198704092006041002',
  '198707242014031003', '198709162010122002', '198710242014031002', '199004132020121015',
  '199007292015022001', '199103312020122021', '199105212010121001', '199201072025052001',
  '199207192020121017', '199208102018012001', '199208102025052002', '199309022020122039',
  '199311302020122027', '199312172019021004', '199401202019022008', '199402052020122020',
  '199403052020121017', '199405202020122025', '199406232022032001', '199506262025052006',
  '199506302022032005', '199509022025052002', '199509222025052004', '199512112023011004',
  '199512242025051001', '199604152020121015', '199702252025052008', '199708302022032005',
  '199710252025052007', '199802012022032002', '199806262022032004', '199808162025051005',
  '199809072025051002', '200001042022032003', '200003302025052010', '200005232025052003',
  '200006022022032002', '200104062025052010', '200104072025052008', '200104242025052010',
  '200107102025052007', '200203202025052003', '200204242025051005'
];

const publicDir = path.join(process.cwd(), 'public');
const missing = [];

expectedNips.forEach(nip => {
  const extensions = ['jpg', 'jpeg', 'png'];
  let found = false;
  
  for (const ext of extensions) {
    if (fs.existsSync(path.join(publicDir, `${nip}.${ext}`))) {
      found = true;
      break;
    }
  }
  
  if (!found) {
    missing.push(nip);
  }
});

console.log('Missing photo files:');
missing.forEach(nip => console.log(`- ${nip}`));
console.log(`\nTotal missing: ${missing.length}`);
console.log(`Expected: ${expectedNips.length}`);
console.log(`Should have: ${expectedNips.length - missing.length}`);
